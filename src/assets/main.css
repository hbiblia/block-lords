@tailwind base;
@tailwind components;
@tailwind utilities;

/* === ESTILOS BASE === */
* {
  box-sizing: border-box;
  user-select: none;
}

body {
  min-height: 100vh;
  background: #1a1510;
  font-family: 'Inter', sans-serif;
}

/* === SCROLLBAR PERSONALIZADA === */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: #211c13;
}

::-webkit-scrollbar-thumb {
  background: #4a3f2a;
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: #5c4e35;
}

/* === COMPONENTES === */
@layer components {
  /* Panel/Card base */
  .card {
    @apply bg-bg-card border border-border rounded-xl p-5;
    @apply transition-all duration-300;
  }

  .card-hover {
    @apply card hover:border-accent-primary/50 hover:shadow-card-hover;
  }

  /* Botones */
  .btn {
    @apply px-5 py-2.5 font-medium rounded-xl transition-all duration-200;
    @apply disabled:opacity-50 disabled:cursor-not-allowed;
  }

  .btn-primary {
    @apply btn text-white;
    background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
    @apply hover:shadow-glow hover:scale-[1.02] active:scale-[0.98];
  }

  .btn-secondary {
    @apply btn bg-bg-tertiary text-white border border-border;
    @apply hover:bg-border hover:border-border-light;
  }

  .btn-outline {
    @apply btn bg-transparent text-accent-primary border border-accent-primary;
    @apply hover:bg-accent-primary/10;
  }

  .btn-danger {
    @apply btn bg-status-danger text-white;
    @apply hover:bg-status-danger/80;
  }

  .btn-success {
    @apply btn bg-status-success text-white;
    @apply hover:bg-status-success/80;
  }

  /* Inputs */
  .input {
    @apply w-full px-4 py-3 bg-bg-secondary border border-border rounded-xl;
    @apply text-white placeholder:text-text-muted;
    @apply focus:outline-none focus:border-accent-primary focus:ring-1 focus:ring-accent-primary/50;
    @apply transition-all duration-200;
  }

  .input-error {
    @apply input border-status-danger focus:border-status-danger focus:ring-status-danger/50;
  }

  /* Badges */
  .badge {
    @apply inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold;
  }

  .badge-primary {
    @apply badge bg-accent-primary/20 text-accent-primary;
  }

  .badge-success {
    @apply badge bg-status-success/20 text-status-success;
  }

  .badge-warning {
    @apply badge bg-status-warning/20 text-status-warning;
  }

  .badge-danger {
    @apply badge bg-status-danger/20 text-status-danger;
  }

  /* Barras de progreso/recursos */
  .progress-bar {
    @apply h-3 bg-bg-tertiary rounded-full overflow-hidden;
  }

  .progress-bar-fill {
    @apply h-full transition-all duration-500 ease-out rounded-full;
  }

  .progress-energy .progress-bar-fill {
    background: linear-gradient(90deg, #f59e0b 0%, #fbbf24 100%);
  }

  .progress-internet .progress-bar-fill {
    background: linear-gradient(90deg, #06b6d4 0%, #22d3ee 100%);
  }

  .progress-health .progress-bar-fill {
    background: linear-gradient(90deg, #22c55e 0%, #4ade80 100%);
  }

  /* Rangos de reputación */
  .rank-bronze { @apply text-rank-bronze; }
  .rank-silver { @apply text-rank-silver; }
  .rank-gold { @apply text-rank-gold; }
  .rank-platinum { @apply text-rank-platinum; }
  .rank-diamond { @apply text-rank-diamond; }

  /* Cards de items/rigs */
  .item-card {
    @apply card-hover cursor-pointer relative overflow-hidden;
  }

  .item-card.active {
    @apply border-accent-primary;
    box-shadow: 0 0 25px rgba(245, 158, 11, 0.25);
  }

  .item-card.inactive {
    @apply opacity-50;
  }

  /* Efecto de minería activa */
  .mining-effect {
    @apply absolute inset-0 pointer-events-none opacity-50;
    background: linear-gradient(
      180deg,
      transparent 0%,
      rgba(245, 158, 11, 0.1) 50%,
      transparent 100%
    );
    animation: mining-scan 2s ease-in-out infinite;
  }

  @keyframes mining-scan {
    0%, 100% { transform: translateY(-100%); }
    50% { transform: translateY(100%); }
  }

  /* Stats grid */
  .stat-card {
    @apply card text-center;
  }

  .stat-value {
    @apply text-2xl font-bold text-white;
  }

  .stat-label {
    @apply text-sm text-text-muted mt-1;
  }

  /* Tabs */
  .tab-list {
    @apply flex gap-1 p-1 bg-bg-secondary rounded-xl;
  }

  .tab {
    @apply px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200;
    @apply text-text-secondary hover:text-white;
  }

  .tab.active {
    @apply bg-bg-tertiary text-white shadow-sm;
  }

  /* Tables */
  .table-row {
    @apply border-b border-border/50 last:border-0;
  }

  .table-row:hover {
    @apply bg-bg-secondary/50;
  }

  /* Notificaciones/Toast */
  .toast {
    @apply fixed bottom-4 right-4 card border-l-4 shadow-card;
    @apply animate-[slideIn_0.3s_ease-out];
  }

  .toast-success { @apply border-l-status-success; }
  .toast-warning { @apply border-l-status-warning; }
  .toast-danger { @apply border-l-status-danger; }
  .toast-info { @apply border-l-status-info; }

  @keyframes slideIn {
    from { transform: translateX(100%); opacity: 0; }
    to { transform: translateX(0); opacity: 1; }
  }

  /* Gradient text */
  .gradient-text {
    background: linear-gradient(135deg, #f59e0b 0%, #fbbf24 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  /* Glass effect */
  .glass {
    @apply bg-bg-card/80 backdrop-blur-md border border-border/50;
  }

  /* Glow effects */
  .glow-purple {
    box-shadow: 0 0 20px rgba(245, 158, 11, 0.4);
  }

  .glow-amber {
    box-shadow: 0 0 20px rgba(217, 119, 6, 0.4);
  }

  .glow-cyan {
    box-shadow: 0 0 20px rgba(6, 182, 212, 0.4);
  }
}

/* === ANIMACIONES DE JUEGO === */
@layer components {
  /* Efecto de brillo en hover */
  .shine-effect {
    @apply relative overflow-hidden;
  }

  .shine-effect::after {
    content: '';
    @apply absolute inset-0 pointer-events-none;
    background: linear-gradient(
      120deg,
      transparent 0%,
      rgba(255, 255, 255, 0.1) 50%,
      transparent 100%
    );
    transform: translateX(-100%);
  }

  .shine-effect:hover::after {
    animation: shine 0.6s ease-out;
  }

  @keyframes shine {
    to { transform: translateX(100%); }
  }

  /* Pulso de notificación */
  .notification-pulse {
    @apply relative;
  }

  .notification-pulse::before {
    content: '';
    @apply absolute -inset-1 rounded-full bg-accent-primary/30;
    animation: notification-ping 1.5s cubic-bezier(0, 0, 0.2, 1) infinite;
  }

  @keyframes notification-ping {
    75%, 100% {
      transform: scale(1.5);
      opacity: 0;
    }
  }

  /* Floating animation para iconos */
  .float {
    animation: float 3s ease-in-out infinite;
  }

  @keyframes float {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
  }

  /* Shake animation */
  .shake {
    animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both;
  }

  @keyframes shake {
    10%, 90% { transform: translateX(-1px); }
    20%, 80% { transform: translateX(2px); }
    30%, 50%, 70% { transform: translateX(-3px); }
    40%, 60% { transform: translateX(3px); }
  }

  /* Typing cursor effect */
  .typing-cursor::after {
    content: '|';
    @apply text-accent-primary ml-1;
    animation: blink 1s infinite;
  }

  @keyframes blink {
    0%, 50% { opacity: 1; }
    51%, 100% { opacity: 0; }
  }

  /* Level up effect */
  .level-up {
    animation: level-up 0.6s ease-out;
  }

  @keyframes level-up {
    0% { transform: scale(1); }
    50% { transform: scale(1.2); }
    100% { transform: scale(1); }
  }

  /* Coin drop animation */
  .coin-drop {
    animation: coin-drop 0.5s ease-out;
  }

  @keyframes coin-drop {
    0% { transform: translateY(-20px); opacity: 0; }
    60% { transform: translateY(5px); }
    100% { transform: translateY(0); opacity: 1; }
  }

  /* Particle burst */
  .particle-burst {
    @apply relative;
  }

  .particle-burst::before,
  .particle-burst::after {
    content: '✨';
    @apply absolute text-xs pointer-events-none;
    animation: particle 0.6s ease-out forwards;
    opacity: 0;
  }

  .particle-burst::before {
    top: -10px;
    left: 20%;
  }

  .particle-burst::after {
    top: -15px;
    right: 20%;
    animation-delay: 0.1s;
  }

  .particle-burst.active::before,
  .particle-burst.active::after {
    opacity: 1;
  }

  @keyframes particle {
    0% { transform: translateY(0) scale(0); opacity: 1; }
    100% { transform: translateY(-30px) scale(1.5); opacity: 0; }
  }

  /* Rig card gaming style */
  .rig-card {
    @apply card relative overflow-hidden;
    @apply border-2 border-transparent;
    @apply transition-all duration-300;
  }

  .rig-card:hover {
    @apply border-accent-primary/50;
    transform: translateY(-2px);
  }

  .rig-card.mining {
    @apply border-status-success;
    box-shadow: 0 0 30px rgba(34, 197, 94, 0.2);
  }

  .rig-card.mining::before {
    content: '';
    @apply absolute inset-0 pointer-events-none;
    background: linear-gradient(
      0deg,
      transparent 0%,
      rgba(34, 197, 94, 0.05) 50%,
      transparent 100%
    );
    animation: mining-pulse 2s ease-in-out infinite;
  }

  @keyframes mining-pulse {
    0%, 100% { opacity: 0.5; transform: translateY(100%); }
    50% { opacity: 1; transform: translateY(-100%); }
  }

  /* XP bar style */
  .xp-bar {
    @apply h-2 bg-bg-tertiary rounded-full overflow-hidden relative;
  }

  .xp-bar-fill {
    @apply h-full rounded-full;
    background: linear-gradient(90deg, #f59e0b 0%, #fbbf24 50%, #f59e0b 100%);
    background-size: 200% 100%;
    animation: xp-shimmer 2s linear infinite;
  }

  @keyframes xp-shimmer {
    0% { background-position: 200% 0; }
    100% { background-position: -200% 0; }
  }
}

/* === UTILIDADES ADICIONALES === */
@layer utilities {
  .text-balance {
    text-wrap: balance;
  }

  /* Animaciones de entrada */
  .animate-fade-in {
    animation: fade-in 0.5s ease-out;
  }

  @keyframes fade-in {
    from { opacity: 0; }
    to { opacity: 1; }
  }

  .animate-slide-up {
    animation: slide-up 0.5s ease-out;
  }

  @keyframes slide-up {
    from { transform: translateY(20px); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
  }

  .animate-scale-in {
    animation: scale-in 0.3s ease-out;
  }

  @keyframes scale-in {
    from { transform: scale(0.9); opacity: 0; }
    to { transform: scale(1); opacity: 1; }
  }
}

/* === FLOATING-VUE TOOLTIPS === */
.v-popper--theme-tooltip {
  --v-popper-bg: rgba(26, 21, 16, 0.95);
  --v-popper-border: rgba(245, 158, 11, 0.3);
  --v-popper-shadow: 0 8px 24px rgba(0, 0, 0, 0.4);
}

.v-popper--theme-tooltip .v-popper__inner {
  background: var(--v-popper-bg);
  border: 1px solid var(--v-popper-border);
  border-radius: 10px;
  padding: 10px 14px;
  font-size: 12px;
  line-height: 1.5;
  color: #e5e7eb;
  max-width: 260px;
  box-shadow: var(--v-popper-shadow);
  backdrop-filter: blur(8px);
}

.v-popper--theme-tooltip .v-popper__arrow-outer {
  border-color: var(--v-popper-border);
}

.v-popper--theme-tooltip .v-popper__arrow-inner {
  border-color: var(--v-popper-bg);
}
